# Bug ä¿®å¤ï¼šç®¡ç†é¢æ¿æ•°æ®è¡¨ç®¡ç†é”™è¯¯

## ğŸ› é—®é¢˜æè¿°

åœ¨ç®¡ç†é¢æ¿çš„"æ•°æ®è¡¨ç®¡ç†"æ ä¸­ç‚¹å‡»æ—¶ï¼Œæ§åˆ¶å°æŠ¥é”™ 404ï¼š

```
INFO:     127.0.0.1:59183 - "GET /admin/tables/admins/count HTTP/1.1" 404 Not Found
```

## ğŸ” åŸå› åˆ†æ

åœ¨å®æ–½ç”¨æˆ·æƒé™ç®¡ç†ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å°† `admins` è¡¨è¿ç§»åˆ°äº† `users` è¡¨ï¼Œä½†å‰ç«¯çš„ `admin.js` æ–‡ä»¶ä¸­ä»ç„¶å¼•ç”¨äº†æ—§çš„ `admins` è¡¨åï¼Œå¯¼è‡´ API è°ƒç”¨å¤±è´¥ã€‚

## âœ… ä¿®å¤æ–¹æ¡ˆ

### ä¿®æ”¹æ–‡ä»¶ï¼š`static/js/admin.js`

**ä¿®æ”¹ä½ç½® 1**ï¼šæ›´æ–°è¡¨åˆ—è¡¨å®šä¹‰

```javascript
// ä¿®æ”¹å‰
{ 
  name: "admins", 
  description: "ç®¡ç†å‘˜è´¦æˆ·è¡¨", 
  count: "?",
  fields: "id, username, password_hash, email, is_active, created_at, last_login"
}

// ä¿®æ”¹å
{ 
  name: "users", 
  description: "ç”¨æˆ·è´¦æˆ·è¡¨ (å«è§’è‰²å’Œæƒé™)", 
  count: "?",
  fields: "id, username, password_hash, email, role, bound_accounts, permissions, is_active, created_at, last_login"
}
```

**ä¿®æ”¹ä½ç½® 2**ï¼šæ›´æ–°å›¾æ ‡æ˜ å°„

```javascript
// ä¿®æ”¹å‰
const iconMap = {
  accounts: "ğŸ‘¥",
  admins: "ğŸ”",
  system_config: "âš™ï¸",
  emails_cache: "ğŸ“§",
  email_details_cache: "ğŸ“¨",
};

// ä¿®æ”¹å
const iconMap = {
  accounts: "ğŸ‘¥",
  users: "ğŸ”",
  system_config: "âš™ï¸",
  emails_cache: "ğŸ“§",
  email_details_cache: "ğŸ“¨",
};
```

## ğŸ“ å˜æ›´è¯´æ˜

1. **è¡¨åæ›´æ–°**ï¼š`admins` â†’ `users`
2. **æè¿°æ›´æ–°**ï¼šåæ˜ æ–°çš„ç”¨æˆ·è¡¨åŠŸèƒ½ï¼ˆåŒ…å«è§’è‰²å’Œæƒé™ï¼‰
3. **å­—æ®µåˆ—è¡¨æ›´æ–°**ï¼šæ·»åŠ æ–°å­—æ®µ `role`, `bound_accounts`, `permissions`

## âœ… éªŒè¯æ­¥éª¤

1. åˆ·æ–°æµè§ˆå™¨é¡µé¢ï¼ˆCtrl+Shift+R å¼ºåˆ¶åˆ·æ–°ï¼‰
2. ç‚¹å‡»"ç®¡ç†é¢æ¿" â†’ "æ•°æ®è¡¨ç®¡ç†"
3. éªŒè¯ä¸å†æœ‰ 404 é”™è¯¯
4. ç¡®è®¤èƒ½æ­£å¸¸æ˜¾ç¤º `users` è¡¨çš„è®°å½•æ•°
5. ç‚¹å‡» `users` è¡¨ï¼ŒéªŒè¯èƒ½æ­£å¸¸æŸ¥çœ‹è¡¨æ•°æ®

## ğŸ“Š å½±å“èŒƒå›´

- **å½±å“æ–‡ä»¶**ï¼š`static/js/admin.js`
- **å½±å“åŠŸèƒ½**ï¼šç®¡ç†é¢æ¿ â†’ æ•°æ®è¡¨ç®¡ç†
- **ç”¨æˆ·å½±å“**ï¼šä¿®å¤åç”¨æˆ·å¯ä»¥æ­£å¸¸æŸ¥çœ‹å’Œç®¡ç† `users` è¡¨

## ğŸ”„ ç›¸å…³æ›´æ–°

æ­¤ä¿®å¤æ˜¯ç”¨æˆ·æƒé™ç®¡ç†ç³»ç»Ÿ (v2.0.0) çš„è¡¥å……ä¿®å¤ï¼Œç¡®ä¿å‰ç«¯å®Œå…¨é€‚é…æ•°æ®åº“è¡¨ç»“æ„çš„å˜æ›´ã€‚

---

**ä¿®å¤æ—¥æœŸ**ï¼š2025-11-02  
**ç‰ˆæœ¬**ï¼šv2.0.1  
**çŠ¶æ€**ï¼šâœ… å·²ä¿®å¤

