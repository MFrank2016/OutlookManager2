# 功能测试清单

## 测试前准备

1. **确认服务器运行**
   ```bash
   python app.py
   ```
   或
   ```bash
   python api_main.py
   ```

2. **打开浏览器**
   访问：`http://localhost:5000` 或对应端口

3. **登录系统**
   使用管理员账户登录

## 测试项目

### ✅ 基础功能

#### 1. 页面导航
- [ ] 点击"邮箱账户"菜单项
- [ ] 点击"添加账户"菜单项
- [ ] 点击"批量添加"菜单项
- [ ] 点击"管理面板"菜单项
- [ ] 点击"API管理"菜单项
- [ ] 所有页面切换正常，无报错

#### 2. 账户列表 (`accounts.js`)
- [ ] 账户列表正常加载
- [ ] 分页功能正常
- [ ] 搜索功能正常
- [ ] 标签过滤正常
- [ ] 点击账户可以查看邮件

### ✅ 标签管理 (`tags.js`)

#### 3. 标签操作
- [ ] 点击账户的"管理标签"按钮
- [ ] 标签管理模态框正确打开
- [ ] 显示当前标签列表
- [ ] 添加新标签
  - [ ] 输入标签名称
  - [ ] 点击"添加标签"
  - [ ] 标签出现在列表中
- [ ] 删除标签
  - [ ] 点击标签旁的"×"按钮
  - [ ] 标签从列表中移除
- [ ] 保存标签
  - [ ] 点击"保存"按钮
  - [ ] 显示成功通知
  - [ ] 账户列表刷新
  - [ ] 标签已更新
- [ ] 关闭模态框
  - [ ] 点击"取消"按钮或关闭按钮
  - [ ] 模态框正确关闭

### ✅ 右键菜单 (`context-menu.js`)

#### 4. 右键菜单操作
- [ ] 在账户列表项上右键点击
- [ ] 右键菜单正确显示
- [ ] 点击"在新标签页打开"
  - [ ] 新标签页打开账户邮件页面
- [ ] 点击"复制账户链接"
  - [ ] 显示"链接已复制"通知
  - [ ] 链接可以正常粘贴
- [ ] 点击"管理标签"
  - [ ] 标签管理模态框打开
- [ ] 点击"删除账户"
  - [ ] 显示确认对话框
  - [ ] 账户被删除（如果确认）
- [ ] 点击菜单外区域
  - [ ] 右键菜单自动关闭

### ✅ 批量操作 (`batch.js`)

#### 5. 批量添加账户
- [ ] 点击"批量添加"菜单
- [ ] 点击"加载示例数据"
  - [ ] 示例数据填充到文本框
  - [ ] 显示提示通知
- [ ] 点击"验证格式"
  - [ ] 格式正确时显示成功通知
  - [ ] 格式错误时显示错误行数
- [ ] 点击"测试连接"（单个账户）
  - [ ] 显示测试进度
  - [ ] 显示测试结果
- [ ] 点击"开始批量添加"
  - [ ] 显示进度条
  - [ ] 逐个处理账户
  - [ ] 显示处理结果
  - [ ] 显示成功/失败统计
- [ ] 清空表单
  - [ ] 点击"清空"按钮
  - [ ] 文本框内容清空

### ✅ 管理面板 (`admin.js`)

#### 6. 数据表管理
- [ ] 点击"管理面板"菜单
- [ ] 点击"数据表"标签
- [ ] 数据表列表正常显示
- [ ] 每个表显示记录数
- [ ] 点击"查看数据"
  - [ ] 表数据正确加载
  - [ ] 表头正确显示
  - [ ] 数据行正确显示
- [ ] 搜索表数据
  - [ ] 输入搜索词
  - [ ] 结果实时过滤
- [ ] 刷新表数据
  - [ ] 点击"刷新"按钮
  - [ ] 数据重新加载
- [ ] 添加记录
  - [ ] 点击"添加记录"按钮
  - [ ] 模态框打开
  - [ ] 表单字段正确生成
  - [ ] 填写数据
  - [ ] 保存成功
- [ ] 编辑记录
  - [ ] 点击"编辑"按钮
  - [ ] 模态框打开
  - [ ] 字段预填充正确
  - [ ] 修改数据
  - [ ] 保存成功
- [ ] 删除记录
  - [ ] 点击"删除"按钮
  - [ ] 显示确认对话框
  - [ ] 删除成功
- [ ] 返回表列表
  - [ ] 点击"返回"按钮
  - [ ] 回到表列表页面

#### 7. 系统配置
- [ ] 点击"系统配置"标签
- [ ] 配置列表正常显示
- [ ] 显示配置值和更新时间
- [ ] 编辑配置
  - [ ] 点击"编辑"按钮
  - [ ] 输入新值
  - [ ] 保存成功
  - [ ] 配置列表刷新

### ✅ API 测试 (`apitest.js`)

#### 8. API 测试功能
- [ ] 点击"API管理"菜单
- [ ] 选择任意 API 端点
- [ ] API 测试模态框打开
- [ ] 显示方法和端点
- [ ] 路径参数输入框显示（如果有）
- [ ] 查询参数输入框显示（如果有）
- [ ] 请求体编辑器显示（如果有）
- [ ] 修改参数值
- [ ] 点击"执行测试"
  - [ ] 显示"正在发送请求"通知
  - [ ] 请求成功显示响应结果
  - [ ] 响应格式化为 JSON
  - [ ] 或请求失败显示错误信息
- [ ] 点击"重置表单"
  - [ ] 参数恢复默认值
- [ ] 关闭模态框
  - [ ] 模态框正确关闭

### ✅ API 文档 (`apidocs.js`)

#### 9. API 文档功能
- [ ] 在 API 管理页面查看文档
- [ ] API 端点列表显示
- [ ] 点击 API 端点
  - [ ] 展开/折叠详情
- [ ] 搜索 API
  - [ ] 输入搜索词
  - [ ] 相关 API 高亮或过滤
- [ ] 复制代码示例
  - [ ] 点击"复制"按钮
  - [ ] 显示"已复制"提示
  - [ ] 代码成功复制到剪贴板
- [ ] 目录导航
  - [ ] 点击目录链接
  - [ ] 平滑滚动到对应部分

### ✅ 邮件管理 (`emails.js`)

#### 10. 邮件列表
- [ ] 点击账户查看邮件
- [ ] 邮件列表正常加载
- [ ] 显示收件箱/垃圾箱标签
- [ ] 切换文件夹
  - [ ] 点击"收件箱"
  - [ ] 点击"垃圾邮件"
  - [ ] 邮件列表更新
- [ ] 邮件分页
  - [ ] 点击"上一页"/"下一页"
  - [ ] 改变每页大小
- [ ] 搜索邮件
  - [ ] 输入搜索词
  - [ ] 邮件列表过滤
- [ ] 查看邮件详情
  - [ ] 点击邮件
  - [ ] 邮件详情模态框打开
  - [ ] 显示发件人、收件人、主题、正文
- [ ] 刷新邮件
  - [ ] 点击"刷新"按钮
  - [ ] 邮件重新加载
- [ ] 导出邮件
  - [ ] 点击"导出"按钮
  - [ ] CSV 文件下载

## 浏览器控制台检查

### 11. 模块加载验证
打开浏览器开发者工具（F12），在控制台检查以下输出：

```
✅ [API] API 模块加载完成
✅ [Utils] 工具函数模块加载完成  
✅ [UI] UI 模块加载完成
✅ [Accounts] 账户管理模块加载完成
✅ [Emails] 邮件管理模块加载完成
✅ [Batch] 批量操作模块加载完成
✅ [Tags] 标签管理模块加载完成
✅ [API Docs] API文档模块加载完成
✅ [Admin] 管理面板模块加载完成
✅ [API Test] API测试模块加载完成
✅ [Context Menu] 右键菜单模块加载完成
✅ [Main] 主模块加载完成
```

### 12. 错误检查
- [ ] 无 JavaScript 错误
- [ ] 无 CSS 加载失败
- [ ] 无 404 资源错误
- [ ] 无函数未定义错误

## 响应式设计测试

### 13. 移动设备适配
- [ ] 调整浏览器窗口大小
- [ ] 使用开发者工具的设备模拟
- [ ] 测试平板视图 (768px - 1024px)
  - [ ] 侧边栏适配
  - [ ] 按钮和表单适配
- [ ] 测试手机视图 (< 768px)
  - [ ] 侧边栏汉堡菜单
  - [ ] 表格水平滚动
  - [ ] 按钮堆叠显示

## 性能测试

### 14. 加载性能
- [ ] 首页加载时间 < 2 秒
- [ ] 页面切换流畅
- [ ] 大量数据加载不卡顿
- [ ] 内存占用正常

## 浏览器兼容性测试

### 15. 多浏览器测试
- [ ] Chrome/Edge (Chromium)
- [ ] Firefox
- [ ] Safari (如果可用)

## 测试结果记录

### 发现的问题
```
问题 1: [描述]
重现步骤: [步骤]
预期行为: [预期]
实际行为: [实际]
严重程度: [高/中/低]

问题 2: ...
```

### 测试总结
- 测试日期：____________________
- 测试人员：____________________
- 通过项目：____/总数
- 发现问题：____个（高：__，中：__，低：__）
- 总体评价：____________________

## 修复验证

### 已修复问题验证
- [ ] 问题 1 已修复并验证
- [ ] 问题 2 已修复并验证
- [ ] ...

---

**提示：**
- 测试时注意观察浏览器控制台，确保无错误输出
- 每完成一项测试，在对应的 `[ ]` 中打勾 `[x]`
- 发现问题时，立即记录详细信息
- 建议按顺序进行测试，确保覆盖所有功能

