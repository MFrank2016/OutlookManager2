# PostgreSQL配置文件
# 用于允许远程连接和优化性能

# 监听地址：监听所有网络接口（允许远程连接）
listen_addresses = '*'

# 最大连接数
max_connections = 200

# 共享缓冲区
shared_buffers = 256MB

# 有效缓存大小
effective_cache_size = 1GB

# 维护工作内存
maintenance_work_mem = 64MB

# 检查点完成目标
checkpoint_completion_target = 0.9

# WAL缓冲区
wal_buffers = 16MB

# 默认统计目标
default_statistics_target = 100

# 随机页面成本
random_page_cost = 1.1

# 有效IO并发
effective_io_concurrency = 200

# 工作内存
work_mem = 4MB

# WAL大小设置
min_wal_size = 1GB
max_wal_size = 4GB

# 日志设置（可选，用于调试）
# log_destination = 'stderr'
# logging_collector = on
# log_directory = 'log'
# log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'
# log_min_duration_statement = 1000  # 记录超过1秒的查询

